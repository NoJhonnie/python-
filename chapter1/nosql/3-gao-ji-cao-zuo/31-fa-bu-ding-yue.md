## 发布订阅

* 发布者和订阅者的解耦合可以带来更大的扩展性和更加动态的网络拓扑
* 客户端不需要主动去获取消息，只需要订阅频道，内容就会被推送

### 消息的格式

1.推送消息的格式主要为三部分

2.part1：消息类型，三种类型

* subscribe，订阅成功
* unsubscribe，取消订阅
* message：其他终端发布消息

3.第一部分为subscribe，则第二部分是频道，第三部分是现在订阅的频道数量

4.第一部分为unsubscribe，则第二部分是频道，第三部分是现在订阅的频道数量，为0则表示当前没有订阅任何频道，在Pub/Sub以外的状态，客户端可以发出任何redis命令

5.第一部分为message，第二部分是来源频道的名称，第三部分是消息的内容

### 命令

1.订阅

```
SUBSCRIBE 频道名称 [频道名称...]
```

2.取消订阅，如果不写参数，则取消所有订阅

```
UNSUBSCRIBE 频道名称 [频道名称...]
```

3.发布

```
PUBLISH 频道 消息
```

